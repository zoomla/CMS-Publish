@using System.Data
@using ZoomLa.Model
@using ZoomLa.Model.Content
@using ZoomLa.Common
@using ZoomLa.BLL.Content
@model ZoomLaCMS.Models.Field.VM_FieldModel
@foreach (DataRow dr in Model.fieldDT.Rows)
{
    //是否为用户端,是否设置了不前端显示
    if (Model.config.Source != ModelConfig.SType.Admin && DataConverter.CBool(dr["IsShow"].ToString()) == false) { continue; }
    Model.fieldMod = new M_ModelField().GetModelFromReader(dr);
    <tr class="fd_tr fd_tr_@(Model.fieldMod.FieldType)" id="fd_tr_@Model.fieldMod.FieldName">
        <th scope="row">@(Model.fieldMod.FieldAlias)
            @if (Model.fieldMod.IsNotNull)
                {<span class="text-danger">*</span>}         

        </th>
        <td>
            @try
            {
                if (Model.config.Mode == ModelConfig.SMode.PreView)
                {
                    switch (Model.fieldMod.FieldType)
                    {
                        case "Images":
                        case "MultiPicType":
                @Html.Partial("Fields/View_Images", Model);
                            break;
                        case "PicType":
                        case "autothumb":
                        case "CameraType":
                        case "SwfFileUpload":
                @Html.Partial("Fields/View_Image", Model);
                            break;
                        default:
                @Html.Partial("Fields/View_Default", Model);
                            break;
                    }
                }
                else
                {
                    switch (Model.fieldMod.FieldType)
                    {
                        case "MultiPicType":
                @Html.Partial("Fields/Images", Model)
                            break;
                        default:
                @Html.Partial("Fields/" + Model.fieldMod.FieldType, Model)
                            break;
                    }
                }
                <small>@Model.fieldMod.FieldTips</small>
                <abbr>@Model.fieldMod.Description</abbr>
            }
            catch (Exception ex)
            { 
                <div style="color:red;">@ex.Message</div>;
            }
        </td>
    </tr>
}